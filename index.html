<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í™©ê¸ˆ í‚¤ì›Œë“œ ë¦¬í¬íŠ¸</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <style>
        .badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
            color: white;
        }
        .badge-naver { background-color: #03C75A; } /* ë„¤ì´ë²„ ì´ˆë¡ìƒ‰ */
        .badge-coupang { background-color: #E60F29; } /* ì¿ íŒ¡ ë¹¨ê°„ìƒ‰ */
        .rank-high { color: #d81b60; font-weight: bold; }
    </style>
</head>
<body>
    <main class="container">
        <hgroup>
            <h1>ğŸ† í™©ê¸ˆ í‚¤ì›Œë“œ ë¦¬í¬íŠ¸</h1>
            <h3 id="update-time">ë°ì´í„° ë¡œë”© ì¤‘...</h3>
        </hgroup>
        
        <figure>
            <table role="grid">
                <thead>
                    <tr>
                        <th>ì¶œì²˜</th>
                        <th>ìˆœìœ„</th>
                        <th>í‚¤ì›Œë“œ</th>
                        <th>í™©ê¸ˆì§€ìˆ˜</th>
                        <th>ë¸”ë¡œê·¸ ìˆ˜</th>
                    </tr>
                </thead>
                <tbody id="keyword-list">
                    <!-- ë°ì´í„° ë“¤ì–´ê°€ëŠ” ê³³ -->
                </tbody>
            </table>
        </figure>
    </main>

    <script>
        fetch('output/data.json')
            .then(response => response.json())
            .then(data => {
                const tbody = document.getElementById('keyword-list');
                const timeLabel = document.getElementById('update-time');
                timeLabel.innerText = "ìµœê·¼ ì—…ë°ì´íŠ¸: " + new Date().toLocaleString();

                data.forEach(item => {
                    const tr = document.createElement('tr');
                    
                    // ì¶œì²˜ì— ë”°ë¼ ë°°ì§€ ìƒ‰ìƒ ê²°ì •
                    let badgeClass = 'badge-naver';
                    if (item.source === 'COUPANG') badgeClass = 'badge-coupang';
                    
                    tr.innerHTML = `
                        <td><span class="badge ${badgeClass}">${item.source}</span></td>
                        <td>${item.rank}</td>
                        <td><strong>${item.keyword}</strong></td>
                        <td class="rank-high">${item.golden_score}</td>
                        <td>${item.blog_count.toLocaleString()}</td>
                    `;
                    tbody.appendChild(tr);
                });
            })
            .catch(err => {
                console.error(err);
                document.getElementById('keyword-list').innerHTML = "<tr><td colspan='5'>ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</td></tr>";
            });
    </script>
</body>
</html>
