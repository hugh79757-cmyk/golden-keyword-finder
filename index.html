<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í™©ê¸ˆ í‚¤ì›Œë“œ ìƒí™©ì‹¤</title>
    <!-- ê¹”ë”í•œ ë””ìì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ (Pico CSS) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <style>
        /* ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ */
        body { font-family: 'Pretendard', sans-serif; }
        .container { max-width: 1200px; }
        
        /* ë°°ì§€ ìŠ¤íƒ€ì¼ */
        .badge { padding: 4px 8px; border-radius: 6px; font-size: 0.75em; font-weight: bold; color: white; vertical-align: middle; }
        .badge-naver { background-color: #03C75A; }
        .badge-coupang { background-color: #E60F29; }
        
        /* ë“±ê¸‰ ìŠ¤íƒ€ì¼ */
        .grade-dia { color: #9C27B0; font-weight: 900; } /* ë‹¤ì´ì•„ëª¬ë“œ */
        .grade-gold { color: #FF9800; font-weight: 800; } /* ê³¨ë“œ */
        .grade-silver { color: #607D8B; font-weight: 700; } /* ì‹¤ë²„ */
        
        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        th { font-weight: bold; color: #333; background-color: #f4f4f4; white-space: nowrap; }
        td { vertical-align: middle; }
        .num-col { text-align: right; } /* ìˆ«ìëŠ” ì˜¤ë¥¸ìª½ ì •ë ¬ */
    </style>
</head>
<body>
    <main class="container">
        <nav>
            <ul>
                <li><strong>ğŸ’ í™©ê¸ˆ í‚¤ì›Œë“œ ë°œêµ´ê¸°</strong></li>
            </ul>
            <ul>
                <li><small id="update-time">ì—…ë°ì´íŠ¸ ì¤‘...</small></li>
            </ul>
        </nav>

        <article>
            <p>
                <strong>ì •ë ¬ ê¸°ì¤€:</strong> í™©ê¸ˆì§€ìˆ˜(ê°€ì¹˜)ê°€ ë†’ì€ ìˆœì„œëŒ€ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤.<br>
                <small>* ì‡¼í•‘ìˆœìœ„ê°€ ë‚®ì•„ë„ ê²€ìƒ‰ëŸ‰ì´ ë§ê³  ê²½ìŸì´ ì ìœ¼ë©´ ìƒë‹¨ì— ëœ¹ë‹ˆë‹¤.</small>
            </p>
            
            <figure>
                <table role="grid">
                    <thead>
                        <tr>
                            <th scope="col" style="width: 10%;">ì¶œì²˜</th>
                            <th scope="col" style="width: 10%;">ì‡¼í•‘ìˆœìœ„</th>
                            <th scope="col">í‚¤ì›Œë“œ</th>
                            <th scope="col" class="num-col">í™©ê¸ˆì§€ìˆ˜</th>
                            <th scope="col" class="num-col">ì›”ê°„ ê²€ìƒ‰ëŸ‰</th>
                            <th scope="col" class="num-col">ê´‘ê³ ë‹¨ê°€(CPC)</th>
                            <th scope="col" class="num-col">ë¸”ë¡œê·¸ ê²½ìŸìˆ˜</th>
                        </tr>
                    </thead>
                    <tbody id="keyword-list">
                        <tr><td colspan="7">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</td></tr>
                    </tbody>
                </table>
            </figure>
        </article>
    </main>

    <script>
        fetch('output/data.json')
            .then(response => response.json())
            .then(data => {
                const tbody = document.getElementById('keyword-list');
                const timeLabel = document.getElementById('update-time');
                
                // ì—…ë°ì´íŠ¸ ì‹œê°„ í‘œì‹œ
                timeLabel.innerText = "ìµœì¢… ë¶„ì„: " + new Date().toLocaleString();
                
                // ê¸°ì¡´ ë¡œë”© ë©”ì‹œì§€ ì‚­ì œ
                tbody.innerHTML = '';

                data.forEach(item => {
                    const tr = document.createElement('tr');
                    
                    // ë°°ì§€ ìƒ‰ìƒ
                    let badgeClass = item.source === 'COUPANG' ? 'badge-coupang' : 'badge-naver';
                    
                    // ë“±ê¸‰ë³„ ìŠ¤íƒ€ì¼
                    let scoreHtml = `<span style="color:#aaa;">${item.golden_score}ì </span>`;
                    if (item.grade.includes("DIAMOND")) scoreHtml = `<span class="grade-dia">ğŸ’ ${item.golden_score}ì </span>`;
                    else if (item.grade.includes("GOLD")) scoreHtml = `<span class="grade-gold">ğŸŒŸ ${item.golden_score}ì </span>`;
                    else if (item.grade.includes("SILVER")) scoreHtml = `<span class="grade-silver">âœ¨ ${item.golden_score}ì </span>`;

                    tr.innerHTML = `
                        <td><span class="badge ${badgeClass}">${item.source}</span></td>
                        <td>${item.rank}ìœ„</td>
                        <td>
                            <strong>${item.keyword}</strong>
                        </td>
                        <td class="num-col">${scoreHtml}</td>
                        <td class="num-col"><strong>${item.search_volume.toLocaleString()}</strong> ê±´</td>
                        <td class="num-col">${item.cpc.toLocaleString()} ì›</td>
                        <td class="num-col">${item.blog_count.toLocaleString()} ê°œ</td>
                    `;
                    tbody.appendChild(tr);
                });
            })
            .catch(err => {
                console.error(err);
                document.getElementById('keyword-list').innerHTML = "<tr><td colspan='7'>ë°ì´í„° ë¡œë”© ì‹¤íŒ¨</td></tr>";
            });
    </script>
</body>
</html>
